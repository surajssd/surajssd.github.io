<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<title>HostPath volumes and it&#39;s problems - Suraj Deshmukh</title>
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="generator" content="Hugo 0.74.3" /><meta itemprop="name" content="HostPath volumes and it&#39;s problems">
<meta itemprop="description" content="Kubernetes HostPath volume good way to nuke your Kubernetes Nodes">
<meta itemprop="datePublished" content="2018-09-10T01:00:51+05:30" />
<meta itemprop="dateModified" content="2018-09-10T01:00:51+05:30" />
<meta itemprop="wordCount" content="1572">



<meta itemprop="keywords" content="kubernetes,openshift,hostpath,security," />
<meta property="og:title" content="HostPath volumes and it&#39;s problems" />
<meta property="og:description" content="Kubernetes HostPath volume good way to nuke your Kubernetes Nodes" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://suraj.io/post/k8s-hostpat-nuke-nodes/" />
<meta property="article:published_time" content="2018-09-10T01:00:51+05:30" />
<meta property="article:modified_time" content="2018-09-10T01:00:51+05:30" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="HostPath volumes and it&#39;s problems"/>
<meta name="twitter:description" content="Kubernetes HostPath volume good way to nuke your Kubernetes Nodes"/>
<meta name="twitter:site" content="@surajd_"/>

            <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/github.min.css">
          <link rel="stylesheet" href="/css/bundle.min.307f33cd8015e5bab28d6ebda9b400f8d3059bc248b4e60adf4d23469fab5a2b.css" integrity="sha256-MH8zzYAV5bqyjW69qbQA&#43;NMFm8JItOYK300jRp&#43;rWis="><link rel="stylesheet" href="/css/add-on.css">
</head>

  <body>
    

<header id="site-header">
  <nav id="site-nav">
    <h1 class="nav-title">
      <a href="/" class="nav">
        
          HostPath volumes and it&#39;s problems
        
      </a>
    </h1>
    <menu id="site-nav-menu" class="flyout-menu menu">
      
        
          
          <a href="/" class="nav link"><i class='fa fa-home'></i> Home</a>
        
      
        
          
          <a href="/about/" class="nav link"><i class='far fa-id-card'></i> About</a>
        
      
        
          
          <a href="/post/" class="nav link"><i class='far fa-newspaper'></i> Blog</a>
        
      
        
          
          <a href="/categories/" class="nav link"><i class='fas fa-sitemap'></i> Categories</a>
        
      
      <a href="#share-menu" class="nav link share-toggle"><i class="fas fa-share-alt">&nbsp;</i>Share</a>
      <a href="#search-input" class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a>
    </menu>
    <a href="#search-input" class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
    <a href="#share-menu" class="nav share-toggle"><i class="fas fa-share-alt fa-2x">&nbsp;</i></a>
    <a href="#lang-menu" class="nav lang-toggle" lang="en">en</a>
    <a href="#site-nav" class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a>
  </nav>
  <menu id="search" class="menu"><input id="search-input" class="search-input menu"></input><div id="search-results" class="search-results menu"></div></menu>
  <menu id="lang-menu" class="flyout-menu menu">
  <a href="#" lang="en" class="nav link active">English (en)</a>
  
    
      
    
  
</menu>

  
    <menu id="share-menu" class="flyout-menu menu">
      <h1>Share Post</h1>
      




  
    
    <a href="//twitter.com/share?text=HostPath%20volumes%20and%20it%27s%20problems&amp;url=https%3a%2f%2fsuraj.io%2fpost%2fk8s-hostpat-nuke-nodes%2f" target="_blank" rel="noopener" class="nav share-btn twitter">
        <p>Twitter</p>
      </a>
  

  
    <a href="//www.reddit.com/submit?url=https%3a%2f%2fsuraj.io%2fpost%2fk8s-hostpat-nuke-nodes%2f&amp;title=HostPath%20volumes%20and%20it%27s%20problems" target="_blank" rel="noopener" class="nav share-btn reddit">
          <p>Reddit</p>
        </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fsuraj.io%2fpost%2fk8s-hostpat-nuke-nodes%2f&amp;title=HostPath%20volumes%20and%20it%27s%20problems" target="_blank" rel="noopener" class="nav share-btn linkedin">
            <p>LinkedIn</p>
          </a>
  

  
      <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fsuraj.io%2fpost%2fk8s-hostpat-nuke-nodes%2f" target="_blank" rel="noopener" class="nav share-btn facebook">
        <p>Facebook</p>
        </a>
  

  
        <a href="mailto:?subject=Check%20out%20this%20post%20by Suraj%20Deshmukh&amp;body=https%3a%2f%2fsuraj.io%2fpost%2fk8s-hostpat-nuke-nodes%2f" target="_blank" class="nav share-btn email" data-proofer-ignore>
          <p>Email</p>
        </a>
  


    </menu>
  
</header>

    <div id="wrapper">
      <section id="site-intro" >
  <a href="/"><img src="https://github.com/surajssd.png" class="square" width="100" alt="Suraj Deshmukh" /></a>
  <header>
    <h1>Blog</h1>
  </header>
  <main>
    <p>containers, packaging, programming, hacks, kubernetes, openshift, fedora, centos</p>
  </main>
  
    <footer>
      <ul class="socnet-icons">
        

        <li><a href="//github.com/surajssd" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>

<li><a href="//stackoverflow.com/users/3848679/surajd" target="_blank" rel="noopener" title="Stack Overflow" class="fab fa-stack-overflow"></a></li>







<li><a href="//deshmukhsuraj.wordpress.com" target="_blank" rel="noopener" title="WordPress" class="fab fa-wordpress"></a></li>

<li><a href="//linkedin.com/in/suraj-deshmukh-0205b834" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>



<li><a href="//slideshare.com/surajssd009005" target="_blank" rel="noopener" title="SlideShare" class="fab fa-slideshare"></a></li>



<li><a href="//youtube.com/surajssd009005" target="_blank" rel="noopener" title="YouTube" class="fab fa-youtube"></a></li>







<li><a href="//twitter.com/surajd_" target="_blank" rel="noopener" title="Twitter" class="fab fa-twitter"></a></li>











<li><a href="mailto:surajd.service@gmail.com" target="_blank" title="Email" class="far fa-envelope"></a></li>

      </ul>
    </footer>
  
</section>

      <main id="site-main">
        
  <article class="post">
    <header>
  <div class="title">
    
      <h2><a href="/post/k8s-hostpat-nuke-nodes/">HostPath volumes and it&#39;s problems</a></h2>
    
    
      <p>Kubernetes HostPath volume good way to nuke your Kubernetes Nodes</p>
    
  </div>
  <div class="meta">
    <time datetime="2018-09-10 01:00:51 &#43;0530 IST">September 10, 2018</time>
    <p>Suraj Deshmukh</p>
    <p>8-Minute Read</p>
  </div>
</header>

    <div id="socnet-share">
      




  
    
    <a href="//twitter.com/share?text=HostPath%20volumes%20and%20it%27s%20problems&amp;url=https%3a%2f%2fsuraj.io%2fpost%2fk8s-hostpat-nuke-nodes%2f" target="_blank" rel="noopener" class="nav share-btn twitter">
        <p>Twitter</p>
      </a>
  

  
    <a href="//www.reddit.com/submit?url=https%3a%2f%2fsuraj.io%2fpost%2fk8s-hostpat-nuke-nodes%2f&amp;title=HostPath%20volumes%20and%20it%27s%20problems" target="_blank" rel="noopener" class="nav share-btn reddit">
          <p>Reddit</p>
        </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fsuraj.io%2fpost%2fk8s-hostpat-nuke-nodes%2f&amp;title=HostPath%20volumes%20and%20it%27s%20problems" target="_blank" rel="noopener" class="nav share-btn linkedin">
            <p>LinkedIn</p>
          </a>
  

  
      <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fsuraj.io%2fpost%2fk8s-hostpat-nuke-nodes%2f" target="_blank" rel="noopener" class="nav share-btn facebook">
        <p>Facebook</p>
        </a>
  

  
        <a href="mailto:?subject=Check%20out%20this%20post%20by Suraj%20Deshmukh&amp;body=https%3a%2f%2fsuraj.io%2fpost%2fk8s-hostpat-nuke-nodes%2f" target="_blank" class="nav share-btn email" data-proofer-ignore>
          <p>Email</p>
        </a>
  


    </div>
    <div class="content">
      
      <p>This post will demonstrate how Kubernetes <a href="https://kubernetes.io/docs/concepts/storage/volumes/#hostpath"><code>HostPath</code></a> volumes can help you get access to the Kubernetes nodes. Atleast you can play with the filesystem of the node on which you pod is scheduled on. You can get access to other containers running on the host, certificates of the kubelet, etc.</p>
<p>I have a 3-master and 3-node cluster and setup using <a href="https://github.com/kinvolk/kubernetes-the-hard-way-vagrant/blob/master/scripts/setup">this script</a>, running in a Vagrant environment.</p>
<p>All the nodes are in ready state:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get nodes -o wide
NAME       STATUS    ROLES     AGE       VERSION   INTERNAL-IP      EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION      CONTAINER-RUNTIME
worker-0   Ready     &lt;none&gt;    24m       v1.11.2   192.168.199.20   &lt;none&gt;        Ubuntu 18.04.1 LTS   4.15.0-33-generic   cri-o://1.11.2
worker-1   Ready     &lt;none&gt;    23m       v1.11.2   192.168.199.21   &lt;none&gt;        Ubuntu 18.04.1 LTS   4.15.0-33-generic   cri-o://1.11.2
worker-2   Ready     &lt;none&gt;    21m       v1.11.2   192.168.199.22   &lt;none&gt;        Ubuntu 18.04.1 LTS   4.15.0-33-generic   cri-o://1.11.2
</code></pre></div><p>The deployment looks like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">$ cat deployment.yaml 
<span style="color:#66d9ef">apiVersion</span>: apps/v1beta1
<span style="color:#66d9ef">kind</span>: Deployment
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: web
  <span style="color:#66d9ef">name</span>: web
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">replicas</span>: <span style="color:#ae81ff">1</span>
  <span style="color:#66d9ef">selector</span>:
    <span style="color:#66d9ef">matchLabels</span>:
      <span style="color:#66d9ef">run</span>: web
  <span style="color:#66d9ef">template</span>:
    <span style="color:#66d9ef">metadata</span>:
      <span style="color:#66d9ef">labels</span>:
        <span style="color:#66d9ef">run</span>: web
    <span style="color:#66d9ef">spec</span>:
      <span style="color:#66d9ef">containers</span>:
      - <span style="color:#66d9ef">image</span>: centos/httpd
        <span style="color:#66d9ef">name</span>: web
        <span style="color:#66d9ef">volumeMounts</span>:
        - <span style="color:#66d9ef">mountPath</span>: /web
          <span style="color:#66d9ef">name</span>: test-volume
      <span style="color:#66d9ef">volumes</span>:
      - <span style="color:#66d9ef">name</span>: test-volume
        <span style="color:#66d9ef">hostPath</span>:
          <span style="color:#66d9ef">path</span>: /
</code></pre></div><p>Above you can see we are mounting <code>/</code> of the host inside pod at <code>/web</code>. This is our gateway to host&rsquo;s file system. Let&rsquo;s deploy this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl apply -f deployment.yaml
deployment.apps/web created
</code></pre></div><p>And now that pod has started:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -o wide
NAME                   READY     STATUS    RESTARTS   AGE       IP          NODE       NOMINATED NODE
web-66cdf67bbc-44zhj   1/1       Running   <span style="color:#ae81ff">0</span>          4m        10.38.0.1   worker-2   &lt;none&gt;
</code></pre></div><p>Getting inside the pod and checking out the mounted directory:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl exec -it web-66cdf67bbc-44zhj bash
<span style="color:#f92672">[</span>root@web-66cdf67bbc-44zhj /<span style="color:#f92672">]</span><span style="color:#75715e"># cd /web</span>
<span style="color:#f92672">[</span>root@web-66cdf67bbc-44zhj web<span style="color:#f92672">]</span><span style="color:#75715e"># ls</span>
bin  boot  dev  etc  home  initrd.img  initrd.img.old  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  snap  srv  sys  tmp  usr  vagrant  var  vmlinuz  vmlinuz.old
</code></pre></div><p>Now we can either <code>chroot</code> into this and see the output of <code>ps</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@web-66cdf67bbc-44zhj ~<span style="color:#f92672">]</span><span style="color:#75715e"># chroot /web</span>
<span style="color:#75715e"># ps aufx</span>
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         <span style="color:#ae81ff">2</span>  0.0  0.0      <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span> ?        S    05:15   0:00 <span style="color:#f92672">[</span>kthreadd<span style="color:#f92672">]</span>
root         <span style="color:#ae81ff">4</span>  0.0  0.0      <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span> ?        I&lt;   05:15   0:00  <span style="color:#ae81ff">\_</span> <span style="color:#f92672">[</span>kworker/0:0H<span style="color:#f92672">]</span>
root         <span style="color:#ae81ff">6</span>  0.0  0.0      <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span> ?        I&lt;   05:15   0:00  <span style="color:#ae81ff">\_</span> <span style="color:#f92672">[</span>mm_percpu_wq<span style="color:#f92672">]</span>
root         <span style="color:#ae81ff">7</span>  0.0  0.0      <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span> ?        S    05:15   0:00  <span style="color:#ae81ff">\_</span> <span style="color:#f92672">[</span>ksoftirqd/0<span style="color:#f92672">]</span>
root         <span style="color:#ae81ff">8</span>  0.0  0.0      <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span> ?        I    05:15   0:00  <span style="color:#ae81ff">\_</span> <span style="color:#f92672">[</span>rcu_sched<span style="color:#f92672">]</span>
root         <span style="color:#ae81ff">9</span>  0.0  0.0      <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span> ?        I    05:15   0:00  <span style="color:#ae81ff">\_</span> <span style="color:#f92672">[</span>rcu_bh<span style="color:#f92672">]</span>
root        <span style="color:#ae81ff">10</span>  0.0  0.0      <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span> ?        S    05:15   0:00  <span style="color:#ae81ff">\_</span> <span style="color:#f92672">[</span>migration/0<span style="color:#f92672">]</span>
root        <span style="color:#ae81ff">11</span>  0.0  0.0      <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span> ?        S    05:15   0:00  <span style="color:#ae81ff">\_</span> <span style="color:#f92672">[</span>watchdog/0<span style="color:#f92672">]</span>
root        <span style="color:#ae81ff">12</span>  0.0  0.0      <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span> ?        S    05:15   0:00  <span style="color:#ae81ff">\_</span> <span style="color:#f92672">[</span>cpuhp/0<span style="color:#f92672">]</span>
</code></pre></div><p>Or you can just delete the entire <code>root</code>, a.k.a. nuking the node.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># rm -rf --no-preserve-root /</span>
</code></pre></div><p>Now if you look at the nodes:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get nodes -o wide
NAME       STATUS     ROLES     AGE       VERSION   INTERNAL-IP      EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION      CONTAINER-RUNTIME
worker-0   Ready      &lt;none&gt;    30m       v1.11.2   192.168.199.20   &lt;none&gt;        Ubuntu 18.04.1 LTS   4.15.0-33-generic   cri-o://1.11.2
worker-1   Ready      &lt;none&gt;    29m       v1.11.2   192.168.199.21   &lt;none&gt;        Ubuntu 18.04.1 LTS   4.15.0-33-generic   cri-o://1.11.2
worker-2   NotReady   &lt;none&gt;    27m       v1.11.2   192.168.199.22   &lt;none&gt;        Unknown              4.15.0-33-generic   cri-o://Unknown
</code></pre></div><p>The last node <code>worker-2</code> is in <code>NotReady</code> state. We have successfully made one node unusable. Now that one node is gone your pod will be scheduled on another node, where you can do similar stuff.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods -o wide
NAME                   READY     STATUS    RESTARTS   AGE       IP          NODE       NOMINATED NODE
web-66cdf67bbc-44zhj   0/1       Unknown   <span style="color:#ae81ff">0</span>          20m       10.38.0.1   worker-2   &lt;none&gt;
web-66cdf67bbc-b22xn   1/1       Running   <span style="color:#ae81ff">0</span>          8m        10.32.0.2   worker-0   &lt;none&gt;
</code></pre></div><p>As you can see above the pod is re-scheduled on node <code>worker-0</code>. And we can do same set of steps to make <code>worker-0</code> unusable.</p>
<p>Deleting the deployment to cleanup.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl delete deployment web
deployment.extensions <span style="color:#e6db74">&#34;web&#34;</span> deleted
</code></pre></div><h1 id="stopping-this-attack-using-podsecuritypolicy">Stopping this attack using PodSecurityPolicy</h1>
<p>Now as a cluster admin how can you prevent this from happening? You can create something called as <a href="https://kubernetes.io/docs/concepts/policy/pod-security-policy/"><code>PodSecurityPolicy</code></a>. This let&rsquo;s you define what kind of pods be created. Or what permissions pod can request. Enable admission controller for this, read about it <a href="https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers/#podsecuritypolicy">here</a>.</p>
<p>Here is an example <code>PodSecurityPolicy</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">$ cat podsecuritypolicy.yaml 
<span style="color:#66d9ef">apiVersion</span>: policy/v1beta1
<span style="color:#66d9ef">kind</span>: PodSecurityPolicy
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">name</span>: example
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">seLinux</span>:
    <span style="color:#66d9ef">rule</span>: RunAsAny
  <span style="color:#66d9ef">supplementalGroups</span>:
    <span style="color:#66d9ef">rule</span>: RunAsAny
  <span style="color:#66d9ef">runAsUser</span>:
    <span style="color:#66d9ef">rule</span>: RunAsAny
  <span style="color:#66d9ef">fsGroup</span>:
    <span style="color:#66d9ef">rule</span>: RunAsAny
  <span style="color:#66d9ef">volumes</span>:
  - <span style="color:#e6db74">&#39;*&#39;</span>
  <span style="color:#66d9ef">privileged</span>: <span style="color:#66d9ef">false</span>  <span style="color:#75715e"># Don&#39;t allow privileged pods!</span>
  <span style="color:#66d9ef">allowedHostPaths</span>:
  - <span style="color:#66d9ef">pathPrefix</span>: /foo
    <span style="color:#66d9ef">readOnly</span>: <span style="color:#66d9ef">true</span>
</code></pre></div><p>In above example, we are restricting access to <code>hostPath</code> a pod can request. Here the path that is allowed is <code>/foo</code> and has <code>readOnly</code> access to the underlying file system.</p>
<p>Create <code>PodSecurityPolicy</code> using above file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl apply -f podsecuritypolicy.yaml 
podsecuritypolicy.policy/example created
</code></pre></div><p>To enable this policy we need to create few more objects, a <code>Role</code> and <code>RoleBinding</code>.</p>
<p><code>Role</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">$ cat role.yaml 
<span style="color:#66d9ef">kind</span>: Role
<span style="color:#66d9ef">apiVersion</span>: rbac.authorization.k8s.io/v1
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">name</span>: authorize-hostpath
<span style="color:#66d9ef">rules</span>:
- <span style="color:#66d9ef">apiGroups</span>: [<span style="color:#e6db74">&#39;policy&#39;</span>]
  <span style="color:#66d9ef">resources</span>: [<span style="color:#e6db74">&#39;podsecuritypolicies&#39;</span>]
  <span style="color:#66d9ef">verbs</span>:     [<span style="color:#e6db74">&#39;use&#39;</span>]
  <span style="color:#66d9ef">resourceNames</span>:
  - example
</code></pre></div><p>This <code>Role</code> will allow usage of policy that we created above.</p>
<p>Create <code>Role</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl apply -f role.yaml 
role.rbac.authorization.k8s.io/authorize-hostpath created
</code></pre></div><p><code>RoleBinding</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">$ cat rolebinding.yaml 
<span style="color:#66d9ef">kind</span>: RoleBinding
<span style="color:#66d9ef">apiVersion</span>: rbac.authorization.k8s.io/v1
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">name</span>: auth-hostpath
<span style="color:#66d9ef">roleRef</span>:
  <span style="color:#66d9ef">kind</span>: Role
  <span style="color:#66d9ef">name</span>: authorize-hostpath
  <span style="color:#66d9ef">apiGroup</span>: rbac.authorization.k8s.io
<span style="color:#66d9ef">subjects</span>:

<span style="color:#75715e"># Authorize all service accounts in a namespace:</span>
- <span style="color:#66d9ef">kind</span>: Group
  <span style="color:#66d9ef">apiGroup</span>: rbac.authorization.k8s.io
  <span style="color:#66d9ef">name</span>: system:serviceaccounts
</code></pre></div><p>This <code>RoleBinding</code> will bind the <code>Role</code> above and all the <code>ServiceAccounts</code> in current namespace.</p>
<p>Create <code>RoleBinding</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl create -f rolebinding.yaml 
rolebinding.rbac.authorization.k8s.io/auth-hostpath created
</code></pre></div><p>Now that we have required permissions in place, try to re-create the <code>deployment</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl apply -f deployment.yaml 
deployment.apps/web created
</code></pre></div><p>The pod is not created and in events you can see an error as <code>Error creating: pods &quot;web-66cdf67bbc-&quot; is forbidden: unable to validate against any pod security policy: [spec.volumes[0].hostPath.pathPrefix: Invalid value: &quot;/&quot;: is not allowed to be used]</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get events 
LAST SEEN   FIRST SEEN   COUNT     NAME                              KIND         SUBOBJECT   TYPE      REASON                    SOURCE                  MESSAGE
...
6s          17s          <span style="color:#ae81ff">12</span>        web-66cdf67bbc.15530e83fd4f8592   ReplicaSet               Warning   FailedCreate              replicaset-controller   Error creating: pods <span style="color:#e6db74">&#34;web-66cdf67bbc-&#34;</span> is forbidden: unable to validate against any pod security policy: <span style="color:#f92672">[</span>spec.volumes<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>.hostPath.pathPrefix: Invalid value: <span style="color:#e6db74">&#34;/&#34;</span>: is not allowed to be used<span style="color:#f92672">]</span>
</code></pre></div><p>This error is due to the fact that we have allowed <code>hostPath</code> to be only under <code>/foo</code> and in the original file it is set to <code>/</code>.</p>
<p>Now change in <code>deployment.yaml</code> file at path <code>deployment.spec.template.spec.volumes[0].hostPath.path</code> from <code>/</code> to <code>/foo</code> and apply again:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl apply -f deployment.yaml 
deployment.apps/web configured
</code></pre></div><p>You can see another error <code>Error creating: pods &quot;web-85cb548b47-&quot; is forbidden: unable to validate against any pod security policy: [spec.containers[0].volumeMounts[0].readOnly: Invalid value: false: must be read-only]</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get events 
LAST SEEN   FIRST SEEN   COUNT     NAME                              KIND         SUBOBJECT   TYPE      REASON                    SOURCE                  MESSAGE
...
5s          15s          <span style="color:#ae81ff">12</span>        web-85cb548b47.15530eb0c27c6122   ReplicaSet               Warning   FailedCreate              replicaset-controller   Error creating: pods <span style="color:#e6db74">&#34;web-85cb548b47-&#34;</span> is forbidden: unable to validate against any pod security policy: <span style="color:#f92672">[</span>spec.containers<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>.volumeMounts<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>.readOnly: Invalid value: false: must be read-only<span style="color:#f92672">]</span>
</code></pre></div><p>This is because in the <code>volumeMount</code>'s <code>readOnly</code> we have used in container has no value defined, which means it defaults to <code>false</code> and in <code>PodSecurityPolicy</code> we have defaulted the <code>hostPath</code> to be <code>readOnly</code>.</p>
<p>So change <code>deployment.spec.template.spec.containers[0].volumeMounts[0].readOnly</code> to <code>true</code>. And manifest should look like following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">$ cat deployment.yaml 
<span style="color:#66d9ef">apiVersion</span>: apps/v1beta1
<span style="color:#66d9ef">kind</span>: Deployment
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: web
  <span style="color:#66d9ef">name</span>: web
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">replicas</span>: <span style="color:#ae81ff">1</span>
  <span style="color:#66d9ef">selector</span>:
    <span style="color:#66d9ef">matchLabels</span>:
      <span style="color:#66d9ef">run</span>: web
  <span style="color:#66d9ef">template</span>:
    <span style="color:#66d9ef">metadata</span>:
      <span style="color:#66d9ef">labels</span>:
        <span style="color:#66d9ef">run</span>: web
    <span style="color:#66d9ef">spec</span>:
      <span style="color:#66d9ef">containers</span>:
      - <span style="color:#66d9ef">image</span>: centos/httpd
        <span style="color:#66d9ef">name</span>: web
        <span style="color:#66d9ef">volumeMounts</span>:
        - <span style="color:#66d9ef">mountPath</span>: /web
          <span style="color:#66d9ef">name</span>: test-volume
          <span style="color:#66d9ef">readOnly</span>: <span style="color:#66d9ef">true</span>
      <span style="color:#66d9ef">volumes</span>:
      - <span style="color:#66d9ef">name</span>: test-volume
        <span style="color:#66d9ef">hostPath</span>:
          <span style="color:#66d9ef">path</span>: /foo
</code></pre></div><p>Now if you re-deploy the app:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl apply -f deployment.yaml 
deployment.apps/web configured
</code></pre></div><p>The pod is scheduled and created:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods
NAME                   READY     STATUS    RESTARTS   AGE
web-7b77459d6b-kbqm8   1/1       Running   <span style="color:#ae81ff">0</span>          7s
</code></pre></div><p>Now if you exec into this pod and try to do something, you can see nothing happens:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl exec -it web-7b77459d6b-kbqm8 bash
<span style="color:#f92672">[</span>root@web-7b77459d6b-kbqm8 /<span style="color:#f92672">]</span><span style="color:#75715e"># cd /web/</span>
<span style="color:#f92672">[</span>root@web-7b77459d6b-kbqm8 web<span style="color:#f92672">]</span><span style="color:#75715e"># ls</span>
<span style="color:#f92672">[</span>root@web-7b77459d6b-kbqm8 web<span style="color:#f92672">]</span><span style="color:#75715e"># touch file.txt</span>
touch: cannot touch <span style="color:#e6db74">&#39;file.txt&#39;</span>: Read-only file system
</code></pre></div><p>So this is really good feature you can use to stop someone from nuking your cluster.</p>
<h1 id="stopping-this-attack-using-selinux">Stopping this attack using SELinux</h1>
<p>Above setup of the Kubernetes cluster had a Ubuntu based machines, now I have a Kubernetes cluster that is setup on Fedora which supports <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/5/html/deployment_guide/ch-selinux">SELinux</a>.</p>
<p>You can setup this cluster following steps in this <a href="https://suraj.io/post/single-node-k8s-fedora-selinux/">post</a>.</p>
<p><strong>Note</strong>: This is a simple cluster setup without <code>PodSecurityPolicy</code>.</p>
<p>Once you have the cluster running:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get nodes -o wide
NAME      STATUS    ROLES     AGE       VERSION   INTERNAL-IP   EXTERNAL-IP   OS-IMAGE                    KERNEL-VERSION           CONTAINER-RUNTIME
fedora    Ready     master    23m       v1.11.2   10.0.2.15     &lt;none&gt;        Fedora <span style="color:#ae81ff">28</span> <span style="color:#f92672">(</span>Cloud Edition<span style="color:#f92672">)</span>   4.16.3-301.fc28.x86_64   docker://1.13.1
</code></pre></div><p>Lets follow the same set of steps of creating the deployment:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl apply -f deployment.yaml 
deployment.apps/web created
</code></pre></div><p>The pod is created:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods
NAME                   READY     STATUS    RESTARTS   AGE
web-66cdf67bbc-t9n7m   1/1       Running   <span style="color:#ae81ff">0</span>          28s
</code></pre></div><p>Getting into the machine:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl exec -it web-66cdf67bbc-t9n7m bash
<span style="color:#f92672">[</span>root@web-66cdf67bbc-t9n7m /<span style="color:#f92672">]</span>#
<span style="color:#f92672">[</span>root@web-66cdf67bbc-t9n7m /<span style="color:#f92672">]</span><span style="color:#75715e"># cd /web/</span>
<span style="color:#f92672">[</span>root@web-66cdf67bbc-t9n7m web<span style="color:#f92672">]</span><span style="color:#75715e"># ls</span>
bin  boot  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  vagrant  var
<span style="color:#f92672">[</span>root@web-66cdf67bbc-t9n7m web<span style="color:#f92672">]</span><span style="color:#75715e"># touch file.txt</span>
touch: cannot touch <span style="color:#e6db74">&#39;file.txt&#39;</span>: Permission denied
</code></pre></div><p>As you can see if you go to the root of host which is mounted at <code>/web</code> and try to create new file, it fails. This event will be logged into the SELinux audit logs. On host if you run following you will see logs:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># ausearch -m avc</span>
----
time-&gt;Tue Sep <span style="color:#ae81ff">11</span> 06:41:54 <span style="color:#ae81ff">2018</span>
type<span style="color:#f92672">=</span>AVC msg<span style="color:#f92672">=</span>audit<span style="color:#f92672">(</span>1536648114.522:985<span style="color:#f92672">)</span>: avc:  denied  <span style="color:#f92672">{</span> write <span style="color:#f92672">}</span> <span style="color:#66d9ef">for</span>  pid<span style="color:#f92672">=</span><span style="color:#ae81ff">15775</span> comm<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;touch&#34;</span> name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/&#34;</span> dev<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sda1&#34;</span> ino<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> scontext<span style="color:#f92672">=</span>system_u:system_r:container_t:s0:c230,c784 tcontext<span style="color:#f92672">=</span>system_u:object_r:root_t:s0 tclass<span style="color:#f92672">=</span>dir permissive<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</code></pre></div><p>Here simple SELinux has stopped the container from writing into places it shouldn&rsquo;t. Compared to <code>PodSecurityPolicy</code> (which is a beta feature in k8s 1.11), SELinux can help you right away if you are using older Kubernetes cluster and are on CentOS or RHEL.</p>
<h1 id="references">References</h1>
<ul>
<li><a href="https://github.com/kinvolk/kubernetes-the-hard-way-vagrant">Multi node Kubernetes setup used here</a></li>
<li><a href="https://kubernetes.io/docs/concepts/policy/pod-security-policy/">Pod Security Policies</a></li>
<li><a href="https://kubernetes.io/docs/tasks/administer-cluster/securing-a-cluster/#controlling-what-privileges-containers-run-with">Securing a Cluster</a></li>
<li><a href="https://kubernetes.io/docs/concepts/storage/volumes/#hostpath">hostPath volumes</a></li>
<li><a href="https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers/#podsecuritypolicy">Enabling Admission controller</a></li>
<li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/security-enhanced_linux/sect-security-enhanced_linux-fixing_problems-searching_for_and_viewing_denials">SELinux denials</a></li>
<li><a href="https://suraj.io/post/single-node-k8s-fedora-selinux/">Single node cluster with SELinux used here</a></li>
</ul>

    </div>
    <footer>
      <div class="stats">
  
    <ul class="categories">
      
        
          <li><a class="article-terms-link" href="/categories/kubernetes/">kubernetes</a></li>
        
          <li><a class="article-terms-link" href="/categories/openshift/">openshift</a></li>
        
      
    </ul>
  
  
    <ul class="tags">
      
        
          <li><a class="article-terms-link" href="/tags/kubernetes/">kubernetes</a></li>
        
          <li><a class="article-terms-link" href="/tags/openshift/">openshift</a></li>
        
          <li><a class="article-terms-link" href="/tags/hostpath/">hostpath</a></li>
        
          <li><a class="article-terms-link" href="/tags/security/">security</a></li>
        
      
    </ul>
  
</div>

    </footer>
  </article>
  
    
  <article class="post">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "suraj-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </article>




  
  <div class="pagination">
    
      <a href="/post/single-node-k8s-fedora-selinux/" class="button left"><span>Single node Kubernetes Cluster on Fedora with SELinux enabled</span></a>
    
    
      <a href="/post/mkcert-using-python-http-server/" class="button right"><span>HTTPS during development using &#39;mkcert&#39;</span></a>
    
  </div>

      </main>
      <section id="site-sidebar">
  
    <section id="recent-posts">
      <header>
        <h1>Recent Posts</h1>
      </header>
      
      <article class="mini-post">
          
        <header>
          <h2><a href="/post/use-configmap-for-scripts/">Use Configmap for Scripts</a></h2>
          <time class="published" datetime="2020-08-22 21:00:51 &#43;0530 IST">August 22, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
          
        <header>
          <h2><a href="/post/being-productive-with-git/">Being Productive with Git</a></h2>
          <time class="published" datetime="2020-08-16 22:00:51 &#43;0530 IST">August 16, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
          
        <header>
          <h2><a href="/post/being-productive-with-kubectl/">Being Productive with Kubectl</a></h2>
          <time class="published" datetime="2020-08-02 16:00:51 &#43;0530 IST">August 2, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
          
        <header>
          <h2><a href="/post/how-to-backup-and-restore-prometheus/">How to backup and restore Prometheus?</a></h2>
          <time class="published" datetime="2020-07-31 19:00:51 &#43;0530 IST">July 31, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
          
        <header>
          <h2><a href="/post/book-review-getting-things-done/">Book Review: Getting Things Done</a></h2>
          <time class="published" datetime="2020-07-30 16:00:07 &#43;0530 IST">July 30, 2020</time>
        </header>
      </article>
      
      
        <footer>
          <a href="/post/" class="button">See More</a>
        </footer>
      
    </section>
  

  
    
      <section id="categories">
        <header>
          <h1><a href="/categories">categories</a></h1>
        </header>
        <ul>
          
          
          <li>
              <a href="/categories/kubernetes/">kubernetes<span class="count">21</span></a>
          
          <li>
              <a href="/categories/notes/">notes<span class="count">19</span></a>
          
          <li>
              <a href="/categories/security/">security<span class="count">8</span></a>
          
          <li>
              <a href="/categories/event_report/">event_report<span class="count">5</span></a>
          
          <li>
              <a href="/categories/packaging/">packaging<span class="count">5</span></a>
          
          <li>
              <a href="/categories/bash/">bash<span class="count">4</span></a>
          
          <li>
              <a href="/categories/docker/">docker<span class="count">4</span></a>
          
          <li>
              <a href="/categories/golang/">golang<span class="count">4</span></a>
          
          <li>
              <a href="/categories/host/">host<span class="count">4</span></a>
          
          <li>
              <a href="/categories/book-review/">book-review<span class="count">3</span></a>
          
          <li>
              <a href="/categories/containers/">containers<span class="count">3</span></a>
          
          <li>
              <a href="/categories/kompose/">kompose<span class="count">3</span></a>
          
          <li>
              <a href="/categories/non-tech/">non-tech<span class="count">3</span></a>
          
          <li>
              <a href="/categories/openshift/">openshift<span class="count">3</span></a>
          
          <li>
              <a href="/categories/productivity/">productivity<span class="count">3</span></a>
          
          <li>
              <a href="/categories/container/">container<span class="count">2</span></a>
          
          <li>
              <a href="/categories/fedora/">fedora<span class="count">2</span></a>
          
          <li>
              <a href="/categories/git/">git<span class="count">2</span></a>
          
          <li>
              <a href="/categories/ide/">ide<span class="count">2</span></a>
          
          <li>
              <a href="/categories/minikube/">minikube<span class="count">2</span></a>
          
          <li>
              <a href="/categories/monitoring/">monitoring<span class="count">2</span></a>
          
          <li>
              <a href="/categories/programming/">programming<span class="count">2</span></a>
          
          <li>
              <a href="/categories/prometheus/">prometheus<span class="count">2</span></a>
          
          <li>
              <a href="/categories/backup/">backup<span class="count">1</span></a>
          
          <li>
              <a href="/categories/centos/">centos<span class="count">1</span></a>
          
          <li>
              <a href="/categories/certs/">certs<span class="count">1</span></a>
          
          <li>
              <a href="/categories/cka/">cka<span class="count">1</span></a>
          
          <li>
              <a href="/categories/cmd-line/">cmd-line<span class="count">1</span></a>
          
          <li>
              <a href="/categories/configuration/">configuration<span class="count">1</span></a>
          
          <li>
              <a href="/categories/desktop/">desktop<span class="count">1</span></a>
          
          <li>
              <a href="/categories/etcd/">etcd<span class="count">1</span></a>
          
          <li>
              <a href="/categories/gaming/">gaming<span class="count">1</span></a>
          
          <li>
              <a href="/categories/gnome/">gnome<span class="count">1</span></a>
          
          <li>
              <a href="/categories/https/">https<span class="count">1</span></a>
          
          <li>
              <a href="/categories/linux/">linux<span class="count">1</span></a>
          
          <li>
              <a href="/categories/project_management/">project_management<span class="count">1</span></a>
          
          <li>
              <a href="/categories/selinux/">selinux<span class="count">1</span></a>
          
          <li>
              <a href="/categories/talks/">talks<span class="count">1</span></a>
          
          <li>
              <a href="/categories/vagrant/">vagrant<span class="count">1</span></a>
          
          </li>
        </ul>
      </section>
    
  

  
    <section id="mini-bio">
      <header>
        <h1>About</h1>
      </header>
      <p>I am a Software Engineer at Kinvolk, working on various tooling around container technology like Docker, Kubernetes.</p>
      <footer>
        <a href="/about" class="button">Learn More</a>
      </footer>
    </section>
  
</section>

      <footer id="site-footer">
  
      <ul class="socnet-icons">
        

        <li><a href="//github.com/surajssd" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>

<li><a href="//stackoverflow.com/users/3848679/surajd" target="_blank" rel="noopener" title="Stack Overflow" class="fab fa-stack-overflow"></a></li>







<li><a href="//deshmukhsuraj.wordpress.com" target="_blank" rel="noopener" title="WordPress" class="fab fa-wordpress"></a></li>

<li><a href="//linkedin.com/in/suraj-deshmukh-0205b834" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>



<li><a href="//slideshare.com/surajssd009005" target="_blank" rel="noopener" title="SlideShare" class="fab fa-slideshare"></a></li>



<li><a href="//youtube.com/surajssd009005" target="_blank" rel="noopener" title="YouTube" class="fab fa-youtube"></a></li>







<li><a href="//twitter.com/surajd_" target="_blank" rel="noopener" title="Twitter" class="fab fa-twitter"></a></li>











<li><a href="mailto:surajd.service@gmail.com" target="_blank" title="Email" class="far fa-envelope"></a></li>

      </ul>
  
  <p class="copyright">
    © 2020 Suraj Deshmukh
      <br>
    Theme: <a href='https://github.com/pacollins/hugo-future-imperfect-slim' target='_blank' rel='noopener'>Hugo Future Imperfect Slim</a><br>A <a href='https://html5up.net/future-imperfect' target='_blank' rel='noopener'>HTML5 UP port</a> | Powered by <a href='https://gohugo.io/' title='0.74.3' target='_blank' rel='noopener'>Hugo</a>
  </p>
</footer>
<a id="back-to-top" href="#" class="fas fa-arrow-up fa-2x"></a>

      <script src="/js/highlight.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/languages/html.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/languages/css.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/languages/js.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/languages/toml.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/languages/shell.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/languages/bash.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/languages/go.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script><script src="/js/bundle.min.5955090a3253deadcd66071270aa2274dabe15ffc97094cec252d87b6f3f00bf.js" integrity="sha256-WVUJCjJT3q3NZgcScKoidNq&#43;Ff/JcJTOwlLYe28/AL8="></script>
    <script src="/js/add-on.js"></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-97006720-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    </div>
  </body>
</html>
