<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Being Productive with Git | Suraj Deshmukh</title>
<meta name="keywords" content="git, productivity, notes">
<meta name="description" content="Tips and tricks to make your day to day usage easier.">
<meta name="author" content="Suraj Deshmukh">
<link rel="canonical" href="https://suraj.io/post/being-productive-with-git/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://suraj.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://suraj.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://suraj.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://suraj.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://suraj.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://suraj.io/post/being-productive-with-git/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-97006720-1', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="Being Productive with Git" />
<meta property="og:description" content="Tips and tricks to make your day to day usage easier." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://suraj.io/post/being-productive-with-git/" />
<meta property="og:image" content="https://suraj.io/images/papermod-cover.png" />
<meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-08-16T22:00:51+05:30" />
<meta property="article:modified_time" content="2020-08-16T22:00:51+05:30" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://suraj.io/images/papermod-cover.png" />
<meta name="twitter:title" content="Being Productive with Git"/>
<meta name="twitter:description" content="Tips and tricks to make your day to day usage easier."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://suraj.io/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Being Productive with Git",
      "item": "https://suraj.io/post/being-productive-with-git/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Being Productive with Git",
  "name": "Being Productive with Git",
  "description": "Tips and tricks to make your day to day usage easier.",
  "keywords": [
    "git", "productivity", "notes"
  ],
  "articleBody": "Contents Introduction Bash Aliases Configuration Installation Global Git Configuration Configuration Installation Repository Specific Git Settings Configuration Installation Bash Git Prompt Configuration Installation Git Push PR Reviews Configuration Installation Demo Conclusion Introduction Git is a day to day tool for version control. It has become a de facto method of source code versioning, it has become ubiquitous with development and its an essential skill for a programmer. I use it all the time.\nBecause of its usage frequency, I wanted to optimise the number of keystrokes I made to get things done with it. I have made some tweaks and personalisation to my git workflow. Obviously, it involves aliases, scripts and other bash graphic tools.\nBash Aliases The most straightforward way to shorten any long Linux command is to use an alias. And I use quite a bunch of aliases for everyday git commands. I have aliases for things like checking out the master branch, pulling stuff from remotes commonly named upstream or origin, looking at git commits, rebasing and amending commits.\nConfiguration alias gpum=\"git pull --ff upstream master\" alias gpom=\"git pull --ff origin master\" alias gcm=\"git checkout master\" alias gs=\"git status\" alias gcmt=\"git commit -s\" alias gl=\"git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)\u003c%an\u003e%Creset' --abbrev-commit\" alias grba=\"git rebase -i --autosquash \" alias gca=\"git commit --amend --no-edit\" Installation Above aliases you saw are placed in ~/.bashrc. You can find mine here.\nGlobal Git Configuration Configuration The contents of gitconfig file look like this. I don’t have a lot of customisation just basic stuff. In the following snippet code means Visual Studio Code. I use vscode as my primary editor so I prefer it to be my difftool as well. The entire gitconfig is stored in my dotfiles repository.\n[user] name = Suraj Deshmukh [color] diff = auto status = auto branch = auto interactive = auto ui = auto pager = true [diff] tool = default-difftool noprefix = true [difftool \"default-difftool\"] cmd = code --wait --diff $LOCAL $REMOTE [core] excludesfile = ~/.gitignore editor = code --wait Installation My global git configuration ~/.gitconfig is not something I create manually. I have an unusual way of creating it. So if you look at the configuration, it is just a symlink to the actual file which resides in my dotfiles repository. I have a special way of creating these symlinks, which is explained in my previous blog here.\n$ ls -al ~/.gitconfig lrwxrwxrwx@ 43 surajd 27 Jul 1:05 /home/surajd/.gitconfig -\u003e /home/surajd/git/dotfiles/configs/gitconfig Repository Specific Git Settings There are some settings I want only for that particular repository. For instance, for my work, I sign-off all my commits with my work email id. For those repository-specific settings, I have a script which does the job for me.\nConfiguration Right now this is all I do for work repository, so that’s all I need.\ngit config user.email \"me@work.com\" Installation You can copy above snippet in a file make it executable and place it in your PATH. I have this file in a dotfiles repository from where a script creates a symlink for this executable file and places in the PATH. All this script management framework is explained in my previous blog post here. You can find the exact file here.\nBash Git Prompt Now when you are using plain old bash, it is not very helpful in terms of the context of the directory you are in. When you don’t have a visual aid, it is easy to make mistakes like commit something on the wrong branch or other undesired things. So I use this helper utility called bash-git-prompt which provides me with the git directory context. Like it tells me the path to the repository, the branch, the number of files changed, if the files are committed or untracked, exit code of the previous command, current time, etc. The bash prompt will change to look something like this when you are in a git repository:\n✘-127 ~/git/blog_contents [foobar L|✚ 1…1] 23:01 $ Configuration You need to have these two settings in your ~/.bashrc. So that the bash git prompt scripts are sourced every time the terminal starts.\n# Bash Git Prompt source ~/.bash-git-prompt/gitprompt.sh GIT_PROMPT_ONLY_IN_REPO=1 Installation Again this is installed easily using this helper script I have here. So I just have to run the command update-git-prompt, and then the repository is installed to be consumed.\nGit Push I have a script to push my changes to the PR I am working on. So every time I am done committing, I just need to do gpo.sh, and the changes are pushed to your origin remote. Behind the scene, there is a simple command which finds out what the current branch is and then push the current branch to origin.\ngit push origin $(git branch --show-current) \"$@\" PR Reviews For PR reviews, it is tough to comprehend all the code just by looking on Github. So I like to pull those changes locally. There is a handy script for it that I use. All I run is something like pr.sh 704 origin, so this is pulling PR number 704 from the remote named origin. If you have to pull changes from upstream then specify such or whatever your remote name maybe.\nConfiguration random=\"${RANDOM}${RANDOM}\" git fetch \"${remote}\" \"pull/${id}/head:pr_${id}_${remote}_${random}\" git checkout \"pr_${id}_${remote}_${random}\" Installation I use my regular framework to install above pr.sh. You can find the entire file here.\nDemo Step 1: Create branch: git checkout foobar Step 2: Make changes as needed. Look at the changes: gs Step 3: Add the changes: git add . Step 4: Commit these changes: gcmt Step 5: Push them: gpo.sh Step 6: CI failed, and now you need to make changes. Make necessary fixes and follow step 2 to 3. Then to amend the last commit just run: gca Step 7: Look at the git commits in the branch gl Step 8: Force push changes now: gpo.sh -f Conclusion That was my tweaked Git workflow. Let me know your productivity hacks with git, in the comments or on twitter. Thanks for reading. Happy Hacking!\n",
  "wordCount" : "1002",
  "inLanguage": "en",
  "image": "https://suraj.io/images/papermod-cover.png","datePublished": "2020-08-16T22:00:51+05:30",
  "dateModified": "2020-08-16T22:00:51+05:30",
  "author":{
    "@type": "Person",
    "name": "Suraj Deshmukh"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://suraj.io/post/being-productive-with-git/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Suraj Deshmukh",
    "logo": {
      "@type": "ImageObject",
      "url": "https://suraj.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://suraj.io/" accesskey="h" title="Suraj Deshmukh (Alt + H)">Suraj Deshmukh</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://suraj.io/post" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://suraj.io/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://suraj.io/archives" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://suraj.io/search" title="Search 🔍">
                    <span>Search 🔍</span>
                </a>
            </li>
            <li>
                <a href="https://suraj.io/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://suraj.io/categories" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://suraj.io/series" title="Series">
                    <span>Series</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://suraj.io/">Home</a>&nbsp;»&nbsp;<a href="https://suraj.io/post/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Being Productive with Git
    </h1>
    <div class="post-description">
      Tips and tricks to make your day to day usage easier.
    </div>
    <div class="post-meta"><span title='2020-08-16 22:00:51 +0530 +0530'>August 16, 2020</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Suraj Deshmukh&nbsp;|&nbsp;<a href="https://github.com/surajssd/blog_contents/blob/master/content/post/being-productive-with-git.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#contents" aria-label="Contents">Contents</a></li>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                <li>
                    <a href="#bash-aliases" aria-label="Bash Aliases">Bash Aliases</a><ul>
                        
                <li>
                    <a href="#configuration" aria-label="Configuration">Configuration</a></li>
                <li>
                    <a href="#installation" aria-label="Installation">Installation</a></li></ul>
                </li>
                <li>
                    <a href="#global-git-configuration" aria-label="Global Git Configuration">Global Git Configuration</a><ul>
                        
                <li>
                    <a href="#configuration-1" aria-label="Configuration">Configuration</a></li>
                <li>
                    <a href="#installation-1" aria-label="Installation">Installation</a></li></ul>
                </li>
                <li>
                    <a href="#repository-specific-git-settings" aria-label="Repository Specific Git Settings">Repository Specific Git Settings</a><ul>
                        
                <li>
                    <a href="#configuration-2" aria-label="Configuration">Configuration</a></li>
                <li>
                    <a href="#installation-2" aria-label="Installation">Installation</a></li></ul>
                </li>
                <li>
                    <a href="#bash-git-prompt" aria-label="Bash Git Prompt">Bash Git Prompt</a><ul>
                        
                <li>
                    <a href="#configuration-3" aria-label="Configuration">Configuration</a></li>
                <li>
                    <a href="#installation-3" aria-label="Installation">Installation</a></li></ul>
                </li>
                <li>
                    <a href="#git-push" aria-label="Git Push">Git Push</a></li>
                <li>
                    <a href="#pr-reviews" aria-label="PR Reviews">PR Reviews</a><ul>
                        
                <li>
                    <a href="#configuration-4" aria-label="Configuration">Configuration</a></li>
                <li>
                    <a href="#installation-4" aria-label="Installation">Installation</a></li></ul>
                </li>
                <li>
                    <a href="#demo" aria-label="Demo">Demo</a></li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="contents">Contents<a hidden class="anchor" aria-hidden="true" href="#contents">#</a></h2>
<ul>
<li><a href="/post/being-productive-with-git/#introduction">Introduction</a></li>
<li><a href="/post/being-productive-with-git/#bash-aliases">Bash Aliases</a>
<ul>
<li><a href="/post/being-productive-with-git/#configuration">Configuration</a></li>
<li><a href="/post/being-productive-with-git/#installation">Installation</a></li>
</ul>
</li>
<li><a href="/post/being-productive-with-git/#global-git-configuration">Global Git Configuration</a>
<ul>
<li><a href="/post/being-productive-with-git/#configuration-1">Configuration</a></li>
<li><a href="/post/being-productive-with-git/#installation-1">Installation</a></li>
</ul>
</li>
<li><a href="/post/being-productive-with-git/#repository-specific-git-settings">Repository Specific Git Settings</a>
<ul>
<li><a href="/post/being-productive-with-git/#configuration-2">Configuration</a></li>
<li><a href="/post/being-productive-with-git/#installation-2">Installation</a></li>
</ul>
</li>
<li><a href="/post/being-productive-with-git/#bash-git-prompt">Bash Git Prompt</a>
<ul>
<li><a href="/post/being-productive-with-git/#configuration-3">Configuration</a></li>
<li><a href="/post/being-productive-with-git/#installation-3">Installation</a></li>
</ul>
</li>
<li><a href="/post/being-productive-with-git/#git-push">Git Push</a></li>
<li><a href="/post/being-productive-with-git/#pr-reviews">PR Reviews</a>
<ul>
<li><a href="/post/being-productive-with-git/#configuration-4">Configuration</a></li>
<li><a href="/post/being-productive-with-git/#installation-4">Installation</a></li>
</ul>
</li>
<li><a href="/post/being-productive-with-git/#demo">Demo</a></li>
<li><a href="/post/being-productive-with-git/#conclusion">Conclusion</a></li>
</ul>
<h2 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h2>
<p>Git is a day to day tool for version control. It has become a de facto method of source code versioning, it has become ubiquitous with development and its an essential skill for a programmer. I use it all the time.</p>
<p>Because of its usage frequency, I wanted to optimise the number of keystrokes I made to get things done with it. I have made some tweaks and personalisation to my git workflow. Obviously, it involves aliases, scripts and other bash graphic tools.</p>
<h2 id="bash-aliases">Bash Aliases<a hidden class="anchor" aria-hidden="true" href="#bash-aliases">#</a></h2>
<p>The most straightforward way to shorten any long Linux command is to use an alias. And I use quite a bunch of aliases for everyday git commands. I have aliases for things like checking out the <code>master</code> branch, pulling stuff from remotes commonly named <code>upstream</code> or <code>origin</code>, looking at git commits, rebasing and amending commits.</p>
<h3 id="configuration">Configuration<a hidden class="anchor" aria-hidden="true" href="#configuration">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">alias</span> <span class="nv">gpum</span><span class="o">=</span><span class="s2">&#34;git pull --ff upstream master&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">alias</span> <span class="nv">gpom</span><span class="o">=</span><span class="s2">&#34;git pull --ff origin master&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">alias</span> <span class="nv">gcm</span><span class="o">=</span><span class="s2">&#34;git checkout master&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">alias</span> <span class="nv">gs</span><span class="o">=</span><span class="s2">&#34;git status&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">alias</span> <span class="nv">gcmt</span><span class="o">=</span><span class="s2">&#34;git commit -s&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">alias</span> <span class="nv">gl</span><span class="o">=</span><span class="s2">&#34;git log --graph --pretty=format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">alias</span> <span class="nv">grba</span><span class="o">=</span><span class="s2">&#34;git rebase -i --autosquash &#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">alias</span> <span class="nv">gca</span><span class="o">=</span><span class="s2">&#34;git commit --amend --no-edit&#34;</span>
</span></span></code></pre></div><h3 id="installation">Installation<a hidden class="anchor" aria-hidden="true" href="#installation">#</a></h3>
<p>Above aliases you saw are placed in <code>~/.bashrc</code>. You can find mine <a href="https://github.com/surajssd/dotfiles/blob/2c2d97642835d78b5ab62a25079d8c29d4f315a8/configs/bashrc#L27-L38">here</a>.</p>
<h2 id="global-git-configuration">Global Git Configuration<a hidden class="anchor" aria-hidden="true" href="#global-git-configuration">#</a></h2>
<h3 id="configuration-1">Configuration<a hidden class="anchor" aria-hidden="true" href="#configuration-1">#</a></h3>
<p>The contents of gitconfig file look like this. I don&rsquo;t have a lot of customisation just basic stuff. In the following snippet <code>code</code> means <a href="https://code.visualstudio.com/">Visual Studio Code</a>. I use vscode as my primary editor so I prefer it to be my <code>difftool</code> as well. The entire <a href="https://github.com/surajssd/dotfiles/blob/master/configs/gitconfig">gitconfig</a> is stored in my <a href="https://github.com/surajssd/dotfiles/">dotfiles repository</a>.</p>
<pre tabindex="0"><code>[user]
  name = Suraj Deshmukh
[color]
  diff = auto
  status = auto
  branch = auto
  interactive = auto
  ui = auto
  pager = true
[diff]
  tool = default-difftool
  noprefix = true
[difftool &#34;default-difftool&#34;]
  cmd = code --wait --diff $LOCAL $REMOTE
[core]
  excludesfile = ~/.gitignore
  editor = code --wait
</code></pre><h3 id="installation-1">Installation<a hidden class="anchor" aria-hidden="true" href="#installation-1">#</a></h3>
<p>My global git configuration <code>~/.gitconfig</code> is not something I create manually. I have an unusual way of creating it. So if you look at the configuration, it is just a symlink to the actual file which resides in my dotfiles repository. I have a special way of creating these symlinks, which is explained in my previous blog <a href="https://suraj.io/post/framework-for-scripts-and-binaries/">here</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ ls -al ~/.gitconfig
</span></span><span class="line"><span class="cl">lrwxrwxrwx@ <span class="m">43</span> surajd <span class="m">27</span> Jul  1:05 /home/surajd/.gitconfig -&gt; /home/surajd/git/dotfiles/configs/gitconfig
</span></span></code></pre></div><h2 id="repository-specific-git-settings">Repository Specific Git Settings<a hidden class="anchor" aria-hidden="true" href="#repository-specific-git-settings">#</a></h2>
<p>There are some settings I want only for that particular repository. For instance, for my work, I sign-off all my commits with my work email id. For those repository-specific settings, I have a script which does the job for me.</p>
<h3 id="configuration-2">Configuration<a hidden class="anchor" aria-hidden="true" href="#configuration-2">#</a></h3>
<p>Right now this is all I do for work repository, so that&rsquo;s all I need.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git config user.email <span class="s2">&#34;me@work.com&#34;</span>
</span></span></code></pre></div><h3 id="installation-2">Installation<a hidden class="anchor" aria-hidden="true" href="#installation-2">#</a></h3>
<p>You can copy above snippet in a file make it executable and place it in your <code>PATH</code>. I have this file in a dotfiles repository from where a script creates a symlink for this executable file and places in the <code>PATH</code>. All this script management framework is explained in my previous blog post <a href="https://suraj.io/post/framework-for-scripts-and-binaries/">here</a>. You can find the exact file <a href="https://github.com/surajssd/dotfiles/blob/master/local-bin/set-git-config-kinvolk">here</a>.</p>
<h2 id="bash-git-prompt">Bash Git Prompt<a hidden class="anchor" aria-hidden="true" href="#bash-git-prompt">#</a></h2>
<p>Now when you are using plain old bash, it is not very helpful in terms of the context of the directory you are in. When you don&rsquo;t have a visual aid, it is easy to make mistakes like commit something on the wrong branch or other undesired things. So I use this helper utility called <a href="https://github.com/magicmonty/bash-git-prompt">bash-git-prompt</a> which provides me with the git directory context. Like it tells me the path to the repository, the branch, the number of files changed, if the files are committed or untracked, exit code of the previous command, current time, etc. The bash prompt will change to look something like this when you are in a git repository:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">✘-127 ~/git/blog_contents <span class="o">[</span>foobar L<span class="p">|</span>✚ 1…1<span class="o">]</span>
</span></span><span class="line"><span class="cl">23:01 $
</span></span></code></pre></div><h3 id="configuration-3">Configuration<a hidden class="anchor" aria-hidden="true" href="#configuration-3">#</a></h3>
<p>You need to have these two settings in your <code>~/.bashrc</code>. So that the bash git prompt scripts are sourced every time the terminal starts.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Bash Git Prompt</span>
</span></span><span class="line"><span class="cl"><span class="nb">source</span> ~/.bash-git-prompt/gitprompt.sh
</span></span><span class="line"><span class="cl"><span class="nv">GIT_PROMPT_ONLY_IN_REPO</span><span class="o">=</span><span class="m">1</span>
</span></span></code></pre></div><h3 id="installation-3">Installation<a hidden class="anchor" aria-hidden="true" href="#installation-3">#</a></h3>
<p>Again this is installed easily using this helper script I have <a href="https://github.com/surajssd/dotfiles/blob/master/local-bin/update-git-prompt">here</a>. So I just have to run the command <code>update-git-prompt</code>, and then the repository is installed to be consumed.</p>
<h2 id="git-push">Git Push<a hidden class="anchor" aria-hidden="true" href="#git-push">#</a></h2>
<p>I have a script to push my changes to the PR I am working on. So every time I am done committing, I just need to do <code>gpo.sh</code>, and the changes are pushed to your <code>origin</code> remote. Behind the scene, there is a simple command which finds out what the current branch is and then push the current branch to <code>origin</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git push origin <span class="k">$(</span>git branch --show-current<span class="k">)</span> <span class="s2">&#34;</span><span class="nv">$@</span><span class="s2">&#34;</span>
</span></span></code></pre></div><h2 id="pr-reviews">PR Reviews<a hidden class="anchor" aria-hidden="true" href="#pr-reviews">#</a></h2>
<p>For PR reviews, it is tough to comprehend all the code just by looking on Github. So I like to pull those changes locally. There is a handy script for it that I use. All I run is something like <code>pr.sh 704 origin</code>, so this is pulling PR number 704 from the remote named <code>origin</code>. If you have to pull changes from <code>upstream</code> then specify such or whatever your remote name maybe.</p>
<h3 id="configuration-4">Configuration<a hidden class="anchor" aria-hidden="true" href="#configuration-4">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">random</span><span class="o">=</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">RANDOM</span><span class="si">}${</span><span class="nv">RANDOM</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">git fetch <span class="s2">&#34;</span><span class="si">${</span><span class="nv">remote</span><span class="si">}</span><span class="s2">&#34;</span> <span class="s2">&#34;pull/</span><span class="si">${</span><span class="nv">id</span><span class="si">}</span><span class="s2">/head:pr_</span><span class="si">${</span><span class="nv">id</span><span class="si">}</span><span class="s2">_</span><span class="si">${</span><span class="nv">remote</span><span class="si">}</span><span class="s2">_</span><span class="si">${</span><span class="nv">random</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">git checkout <span class="s2">&#34;pr_</span><span class="si">${</span><span class="nv">id</span><span class="si">}</span><span class="s2">_</span><span class="si">${</span><span class="nv">remote</span><span class="si">}</span><span class="s2">_</span><span class="si">${</span><span class="nv">random</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span></code></pre></div><h3 id="installation-4">Installation<a hidden class="anchor" aria-hidden="true" href="#installation-4">#</a></h3>
<p>I use my regular framework to install above <code>pr.sh</code>. You can find the entire file <a href="https://github.com/surajssd/dotfiles/blob/master/local-bin/pr.sh">here.</a></p>
<h2 id="demo">Demo<a hidden class="anchor" aria-hidden="true" href="#demo">#</a></h2>
<ul>
<li>Step 1: Create branch:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git checkout foobar
</span></span></code></pre></div><ul>
<li>Step 2: Make changes as needed. Look at the changes:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">gs
</span></span></code></pre></div><ul>
<li>Step 3: Add the changes:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git add .
</span></span></code></pre></div><ul>
<li>Step 4: Commit these changes:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">gcmt
</span></span></code></pre></div><ul>
<li>Step 5: Push them:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">gpo.sh
</span></span></code></pre></div><ul>
<li>Step 6: CI failed, and now you need to make changes. Make necessary fixes and follow step 2 to 3. Then to amend the last commit just run:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">gca
</span></span></code></pre></div><ul>
<li>Step 7: Look at the git commits in the branch</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">gl
</span></span></code></pre></div><ul>
<li>Step 8: Force push changes now:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">gpo.sh -f
</span></span></code></pre></div><h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>That was my tweaked Git workflow. Let me know your productivity hacks with git, in the comments or on twitter. Thanks for reading. Happy Hacking!</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://suraj.io/tags/git/">Git</a></li>
      <li><a href="https://suraj.io/tags/productivity/">Productivity</a></li>
      <li><a href="https://suraj.io/tags/notes/">Notes</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://suraj.io/post/use-configmap-for-scripts/">
    <span class="title">« Prev</span>
    <br>
    <span>Use Configmap for Scripts</span>
  </a>
  <a class="next" href="https://suraj.io/post/being-productive-with-kubectl/">
    <span class="title">Next »</span>
    <br>
    <span>Being Productive with Kubectl</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Being Productive with Git on x"
            href="https://x.com/intent/tweet/?text=Being%20Productive%20with%20Git&amp;url=https%3a%2f%2fsuraj.io%2fpost%2fbeing-productive-with-git%2f&amp;hashtags=git%2cproductivity%2cnotes">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Being Productive with Git on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fsuraj.io%2fpost%2fbeing-productive-with-git%2f&amp;title=Being%20Productive%20with%20Git&amp;summary=Being%20Productive%20with%20Git&amp;source=https%3a%2f%2fsuraj.io%2fpost%2fbeing-productive-with-git%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Being Productive with Git on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fsuraj.io%2fpost%2fbeing-productive-with-git%2f&title=Being%20Productive%20with%20Git">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Being Productive with Git on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fsuraj.io%2fpost%2fbeing-productive-with-git%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Being Productive with Git on whatsapp"
            href="https://api.whatsapp.com/send?text=Being%20Productive%20with%20Git%20-%20https%3a%2f%2fsuraj.io%2fpost%2fbeing-productive-with-git%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Being Productive with Git on telegram"
            href="https://telegram.me/share/url?text=Being%20Productive%20with%20Git&amp;url=https%3a%2f%2fsuraj.io%2fpost%2fbeing-productive-with-git%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Being Productive with Git on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Being%20Productive%20with%20Git&u=https%3a%2f%2fsuraj.io%2fpost%2fbeing-productive-with-git%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer><div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "suraj-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://suraj.io/">Suraj Deshmukh</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
