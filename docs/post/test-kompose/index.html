<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.20-DEV" />

  <title>Testing &#39;fedora&#39; and &#39;CentOS&#39; kompose package &middot; My little hacks</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="http://suraj.io/docs/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="http://suraj.io/docs/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="http://suraj.io/docs/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  

  

  <link rel="shortcut icon" href="http://suraj.io/docsimg/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  

  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://suraj.io/docs/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://suraj.io/docs/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://suraj.io/docs/contact/"><i class='fa fa-phone fa-fw'></i>Contact</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://suraj.io/docs/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/surajd_" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/surajssd" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small></small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>Testing &#39;fedora&#39; and &#39;CentOS&#39; kompose package</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>14 Mar 2017, 00:31</time>
  </div>

  

  

  

</div>

  

<p>I generally do <code>kompose</code> package testing for fedora and CentOS. So here are the steps I follow.</p>

<p><strong>Note</strong>: All the commands that start with <code>#</code> are inside the container.</p>

<h2 id="fedora">Fedora</h2>

<p>Spin the fedora test environment, let&rsquo;s say fedora 25, I do it in containers.</p>

<pre><code class="language-bash">$ docker run -it fedora:25 bash
</code></pre>

<p>Once inside the container download the latest package from the testing repo:</p>

<pre><code class="language-bash"># dnf --enablerepo updates-testing -y install kompose
</code></pre>

<p><strong>Note</strong>: Make sure you download the latest release, there might be conditions that you download the old package.</p>

<p>Now having the package is not enough, we need to run the functional tests, which is in the source repoistory. But before we clone the repo, we need some dependencies like <code>make</code> and <code>jq</code>. So install them using packages.</p>

<pre><code class="language-bash"># dnf install -y jq make
</code></pre>

<h2 id="centos">CentOS</h2>

<p>Spin the CentOS environment in container.</p>

<pre><code class="language-bash">$ docker run -it centos bash
</code></pre>

<p>Install kompose from <code>epel-testing</code> repo:</p>

<pre><code class="language-bash"># yum --enablerepo=epel-testing -y install kompose
</code></pre>

<p>And packages needed to run tests:</p>

<pre><code class="language-bash"># yum install -y jq make
</code></pre>

<h2 id="functional-tests">Functional tests</h2>

<p>Now lets get the functional tests:</p>

<pre><code># git clone https://github.com/kubernetes-incubator/kompose/
# cd kompose
</code></pre>

<p>Run tests:</p>

<pre><code class="language-bash"># make test-cmd
</code></pre>

<p>If all tests pass then just give a karma for it on the release page.</p>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
  </div>
  <div class="pure-u-10-24">
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
  </div>
</div>



  

</div>

</div>
</div>
<script src="http://suraj.io/docsjs/ui.js"></script>




</body>
</html>

